"use strict";(self.webpackChunktest_docusaurus=self.webpackChunktest_docusaurus||[]).push([[611],{1889:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>p,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=n(7462),r=(n(7294),n(3905));const i={sidebar_position:2},a="Usage in Cypress",o={unversionedId:"usage-in-cypress",id:"usage-in-cypress",title:"Usage in Cypress",description:"TestSendr can be easily used in your Cypress tests. Here is a example script:",source:"@site/docs/usage-in-cypress.md",sourceDirName:".",slug:"/usage-in-cypress",permalink:"/docs/usage-in-cypress",draft:!1,editUrl:"https://github.com/testsendr/web/tree/main/docs/usage-in-cypress.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Quick Start",permalink:"/docs/quick-start"}},p={},c=[],d={toc:c};function u(e){let{components:s,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},d,n,{components:s,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"usage-in-cypress"},"Usage in Cypress"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TestSendr")," can be easily used in your Cypress tests. Here is a example script:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"describe('TestSendr', () => {\n  it('should send an email', () => {\n\n    // do the registration step on your app, it is supposed to send an email with a link to confirm the email address\n\n    // wait 30s\n    cy.wait(30000)\n\n    const parser = new DOMParser()\n    let linkToConfirm = ''\n    cy.request(\n      `https://api.testsendr.link/?mail=${email}`\n    ).then(({ body }) => {\n      cy.wrap(\n        parser.parseFromString(JSON.parse(body)[0].html, 'text/html').getElementsByTagName('a')[0]\n          .href\n      ).as('link')\n    })\n    cy.get('@link').then(link => {\n      linkToConfirm = link\n    })\n\n    cy.visit(linkToConfirm)\n\n    cy.get('div)\n      .first()\n      .should('have.text', 'Account confirmed')\n  })\n})\n")))}u.isMDXComponent=!0}}]);